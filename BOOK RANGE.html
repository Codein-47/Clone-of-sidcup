<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>

    <link rel="canonical" href="" />

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- Include jQuery UI library -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    

    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MZPPSJXD');
    </script>
    <!-- End Google Tag Manager -->


    <title>Driving Range</title>
    <meta charset="utf-8">
    <link rel="apple-touch-icon" sizes="180x180"
        href="https://sidcupfamilygolf.com/wp-content/themes/puttosaurus/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32"
        href="https://sidcupfamilygolf.com/wp-content/themes/puttosaurus/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16"
        href="https://sidcupfamilygolf.com/wp-content/themes/puttosaurus/favicons/favicon-16x16.png">
    <meta name="description" content="">
    <meta name="keywords" content="">

    <meta property="og:locale" content="en_GB" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Driving Range" />
    <meta property="og:description" content="" />
    <meta property="og:url" content="" />
    <meta property="og:site_name" content="fusemetrix" />
    <meta property="og:image" content="" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:title" content="Driving Range" />
    <meta name="twitter:site" content="@fusemetrix" />
    <meta name="twitter:creator" content="@fusemetrix" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Bing Webmaster Tools -->
    <meta name="msvalidate.01" content="00EAB4E80517CB300C453265EF350526" />
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico" />
    <script src="https://kit.fontawesome.com/68802d6398.js" crossorigin="anonymous"></script>
    <!-- popper -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="/common/assets/css/melon.datepicker.css?cc=" rel="stylesheet" media="none"
        onload="if(media!='all')media='all'">
    <noscript>
        <link href="/common/assets/css/melon.datepicker.css?cc=" rel="stylesheet">
    </noscript>
    <link href="https://cdn.materialdesignicons.com/5.3.45/css/materialdesignicons.min.css" rel="stylesheet"
        type="text/css" media="none" onload="if(media!='all')media='all'" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="/assets/css/style.css?cc=16989397723" rel="stylesheet" type="text/css" media="none"
        onload="if(media!='all')media='all'" />
    <noscript>
        <link href="/assets/css/style.css?cc=1698939772" rel="stylesheet" type="text/css" />
        <link href="https://cdn.materialdesignicons.com/5.3.45/css/materialdesignicons.min.css" rel="stylesheet"
            type="text/css" />
    </noscript>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
    <style>
        html,
        body {
            background-color: #000;
            height: 100%;
            width: 100%;
            overflow-x: hidden;
        }

        .nav-pills>li {
            font-weight: 700;
            font-size: 20px;
        }

        .nav-pills>li:not(:last-child) {
            margin-right: 5px !important;
        }

        .nav-pills>li>a {
            text-decoration: none !important;
        }

        .nav-pills .nav-link:not(.active) {
            background-color: #EEEEEE;
            color: #888888;
        }

        .nav-pills>li>a.active {
            background-color: #aae007 !important;
        }

        .text-success {
            color: #96be1e !important;
        }

        .btn-outline-primary {
            background: black;
            color: #fff;
            border: 2px solid #96be1e;
            font-weight: 400 !important;
            text-transform: none;
            text-align: left;
        }

        .btn-outline-primary:hover {
            background: black;
            color: #fff;
            border: 2px solid #96be1e;
        }

        .iconWrapper {
            width: 40px;
            text-align: center;
            font-size: 35px;
        }

        .iconWrapper img {
            height: 35px;
            width: auto;
        }

        select {
            appearance: none;
            -moz-appearance: none;
            -webkit-appearance: none;
            padding-right: 15px;
            background-image: url('/assets/images/downarrow.png');
            background-repeat: no-repeat;
            background-position: calc(100% - 3px) center;
            background-size: 5vh;
        }

        #quickBookDatePickerDropdown {
            appearance: none;
            -moz-appearance: none;
            -webkit-appearance: none;
            padding-right: 15px;
            background-image: url('/assets/images/downarrow.png');
            background-repeat: no-repeat;
            background-position: calc(100% - 3px) center;
            background-size: 5vh;
            padding-left: 11px;
            padding-right: 11px;
        }

        .dropdown-toggle:focus {
            background-color: #000 !important;
        }

        .btn.btn-primary.disabled {
            color: #000;
            opacity: 0.4;
        }

        .categoryDatepicker::placeholder {
            color: #FFFFFF !important;
            opacity: 1;
        }
    </style>

    <script>
        var WS_USER = "mrmulligan";
        var selectedCategoryId = 0;
        var dateToday = new Date();
        var availableDates = [];
        var datesRetrieved = [];
        var calendarLoaded = 0;
        var timer;

        $(function () {
            $('a[data-toggle="pill"]').on("shown.bs.tab", function (e) {
                var categoryId = $(e.target).data("categoryid");
                checkSelectedBookAllProducts(categoryId);
            });

            $("#divBookAllProducts").on("change", ".baySelect", function () {
                var categoryId = parseInt($(this).data("categoryid"));
                var qty = ($(this).val() * 1);
                $("#divBookAllProductsCategory_" + categoryId + " .playerSelect").val(qty);
            });

            $("#divBookAllProducts").on("change", ".getProductDates", function () {
                var categoryId = parseInt($(this).data("categoryid"));
                var dateNow = (new Date()).toISOString().split("T")[0];
                datesRetrieved = [];
                getAvailableDates(categoryId, dateNow);
            });

            $("#divBookAllProducts").on("change", ".getProductTimes", function () {
                var categoryId = parseInt($(this).data("categoryid"));
                checkSelectedBookAllProducts(categoryId);
            });

            $("#divBookAllProducts").on("change", ".selectProductTime", function () {
                var categoryId = parseInt($(this).data("categoryid"));
                selectProductTime(categoryId);
            });


        });

        function getAvailableDates(categoryId, date) {
            var locationId = $("#locationId").val();

            var products = {};
            var key = 0;
            var allProductsSelected = true;
            $("#divBookAllProductsCategory_" + categoryId + " [id^='productQty_']").each(function () {
                var productId = parseInt($(this).data("productid"));
                var qty = ($(this).val() * 1);
                if (qty == 0) allProductsSelected = false;

                products[key] = {};
                products[key]["productId"] = productId;
                products[key]["qty"] = qty;

                key++;
            });

            if (allProductsSelected) {
                if (calendarLoaded == 0) {
                    loadCalendar(categoryId, date);
                    calendarLoaded = 1;
                }

                arrDate = date.split("-");
                year = arrDate[0];
                month = arrDate[1];
                day = arrDate[2];
                yearMonth = year + "_" + month;

                if (!(yearMonth in datesRetrieved)) {
                    $("#bookAllProductsDatepicker_" + categoryId).attr("placeholder", "Loading...");
                    $.ajax({
                        url: "/booking/ajaxGrouped.php",
                        method: "GET",
                        async: true,
                        data: { "getGroupDates": 1, "locationId": locationId, "newDate": date, "products": products },
                        dataType: "json",
                        success: function (data) {
                            if (data != "" && data != null) {
                                var previousDates = availableDates;
                                var recentDates = data;

                                datesRetrieved[yearMonth] = yearMonth;
                                availableDates = previousDates.concat(recentDates);
                            } else {
                                availableDates = [];
                            }
                            $("#bookAllProductsDatepicker_" + categoryId).attr("placeholder", "Select a date");
                            $("#bookAllProductsDatepicker_" + categoryId).datepicker("refresh");
                        },
                        fail: function () {

                        }
                    });
                }
            }
        }

        function loadCalendar(categoryId, firstAvailableDate) {
            $("#bookAllProductsDatepicker_" + categoryId).datepicker({
                dateFormat: "dd/mm/yy",
                minDate: 0,
                firstDay: 1,
                prevText: "",
                nextText: "",
                altField: "#bookAllProductsDate_" + categoryId,
                altFormat: "yy-mm-dd",
                dayNamesMin: ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"],
                beforeShow: function (input, inst) {
                    $("#ui-datepicker-div").addClass("category-ui-picker ll-skin-melon");
                },
                beforeShowDay: function (date) {
                    var string = $.datepicker.formatDate("yy-mm-dd", date);
                    var thisdate = new Date(date);
                    var isAvailable = ($.inArray(string, availableDates) != -1);

                    if (isAvailable) {
                        return string;
                    } else {
                        if (thisdate < dateToday) {
                            return [false, "ui-datepicker-unavailable-mobile-only"];
                        } else {
                            return true;
                        }
                    }
                },
                onChangeMonthYear: function (year, month, inst) {
                    $("#bookAllProductsDatepicker_" + categoryId).datepicker("refresh");
                    if (calendarLoaded == 1) {
                        var nextDate = year + "-" + pad(month, 2) + "-01";
                        getAvailableDates(categoryId, nextDate);
                    }
                },
            });

            calendarLoaded = 1;
        }

        function pad(n, width, z) {
            z = z || '0';
            n = n + '';
            return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
        }

        function checkSelectedBookAllProducts(categoryId) {
            selectedCategoryId = categoryId;

            var selectedDate = $("#bookAllProductsDate_" + categoryId).val();
            if (selectedDate == "") return;

            var products = [];
            var key = 0;
            var bayQty = 0;
            var allProductsSelected = true;
            $("#divBookAllProductsCategory_" + categoryId + " [id^='productQty_']").each(function () {
                var productId = parseInt($(this).data("productid"));
                var isBayProduct = parseInt($(this).data("isbayproduct"));
                var qty = ($(this).val() * 1);

                // Must select both products
                if (qty == 0) allProductsSelected = false;

                if (isBayProduct) bayQty = qty;

                if (isBayProduct && qty > 1) {
                    for (var i = 1; i <= qty; i++) {
                        products[key] = productId + "_1";
                        key++
                    }
                } else {
                    products[key] = productId + "_" + qty;
                    key++
                }
            });

            if (allProductsSelected) {
                $("#divBookAllProductsError_" + categoryId).html("").slideUp();
                $("#bookAllProductsTime_" + categoryId).html("<option>Loading...</option>");
                if (bayQty > 3) $("#divSelectBay_" + categoryId).html("").slideUp();
                $("#btnConfirmBooking").addClass("disabled").siblings(".overlay").removeClass("d-none");

                clearTimeout(timer);
                timer = setTimeout(function () {
                    getBookAllProductsTimes(categoryId, products, bayQty);
                }, 1500);
            }
        }

        function getBookAllProductsTimes(categoryId, products, bayQty) {
            var locationId = $("#locationId").val();
            var selectedDate = $("#bookAllProductsDate_" + categoryId).val();
            var selectedProducts = parseInt(products.length);
            var productsError = "";
            var now = new Date();

            if (selectedProducts > 0) {
                $.ajax({
                    url: "/booking/ajaxGrouped.php",
                    method: "POST",
                    async: true,
                    data: { "getAvailableProductsTimes": 1, "selectedDate": selectedDate, "categoryId": categoryId, "locationId": locationId, "products": products },
                    dataType: "json",
                    success: function (data) {
                        console.log("getAvailableProductsTimes results");
                        console.log(data);
                        productsError = "";
                        if (data.bookingConditionError != "") productsError = data.bookingConditionError;
                        if (productsError == "") {
                            if (data.times != "" && data.times != null) {
                                var options = "";
                                var bayOptions = [];
                                var count = bayCount = 0;
                                $.each(data.times, function (index, value) {
                                    var thisDateTime = selectedDate + " " + index + ":00";
                                    var timeSlotDate = new Date(thisDateTime.replace(/-/g, "/"));
                                    var available_linked_expids = "";
                                    if (value.hasOwnProperty("available_linked_expids")) {
                                        available_linked_expids = encodeURIComponent(JSON.stringify(value.available_linked_expids));
                                    }

                                    if ((timeSlotDate.getTime() < now.getTime()) || value.available == 0) { // Time slot has passed
                                        options += "<option value=\"" + index + "\" disabled>" + index + "</option>";
                                    } else if (value.available == 1) {
                                        options += "<option value=\"" + index + "\" data-availablelinkedexpids=\"" + available_linked_expids + "\">" + index + "</option>";
                                    }

                                    // Get the driving bay experiences for the first time
                                    if (count == 0 && value.available_linked_expids != "" && value.available_linked_expids != null) {
                                        console.log(value.available_linked_expids);
                                        $(value.available_linked_expids).each(function (index2, val) {
                                            bayOptions[bayCount] = "<option value=\"\">Select a bay</option>";
                                            $.each(val, function (expKey, expValue) {
                                                bayOptions[bayCount] += "<option value=\"" + expKey + "\">" + expValue + "</option>";
                                            });
                                            bayCount++
                                        });
                                    }

                                    count++;
                                });
                                $("#bookAllProductsTime_" + categoryId).html(options);

                                if (bayQty <= 3) {
                                    var html = "";
                                    var bayCount = 0;
                                    $.each(data.currentBookings, function (index, value) {
                                        if (value.data.extra.DRIVINGRAN == 1) {
                                            html += "<div class=\"row mb-2\">";
                                            html += "<div class=\"col-12 col-sm-4 col-md-6 col-lg-6 mx-auto\">";
                                            html += "<div class=\"d-flex align-items-center\">";
                                            html += "<span class=\"iconWrapper mr-3\"><img src=\"/assets/images/flag.png\" aria-hidden=\"true\"></i></span>";
                                            html += "<select class=\"form-control required live-validate baySelector\" id=\"baySelect_" + index + "\" data-basketkey=\"" + index + "\" required>" + bayOptions[bayCount] + "</select>";
                                            html += "</div>";
                                            html += "</div>";
                                            html += "</div>";
                                            bayCount++;
                                        }
                                    });
                                    $("#divSelectBay_" + categoryId).html(html).slideDown();
                                }

                                $("#btnConfirmBooking").removeClass("disabled").siblings(".overlay").addClass("d-none");
                            } else {
                                $("#bookAllProductsTime_" + categoryId).html("<option value=\"\">Sorry, there is no availability on your chosen date - please select another date.</option>");
                            }
                        } else {
                            $("#bookAllProductsTime_" + categoryId).html("<option value=\"\">Select a Time</option>");
                            $("#divBookAllProductsError_" + categoryId).html(productsError).slideDown();
                        }
                    }
                });
            }
        }

        function selectProductTime(categoryId) {
            selectTimeElement = $('#bookAllProductsTime_' + categoryId).find(':selected');
            available_linked_expids = selectTimeElement.data("availablelinkedexpids");

            bayOptions = "";
            if (available_linked_expids != "" && available_linked_expids != null) {
                available_linked_expids = JSON.parse(decodeURIComponent(available_linked_expids));
                $(available_linked_expids).each(function (index2, val) {

                    bayOptions = "<option value=\"\">Select a bay</option>";
                    $.each(val, function (expKey, expValue) {
                        bayOptions += "<option value=\"" + expKey + "\">" + expValue + "</option>";
                    });
                });
            }
            $(".baySelector").html(bayOptions);
        }

        function confirmBooking(categoryId) {
            var date = $("#bookAllProductsDate_" + categoryId).val();
            var time = $("#bookAllProductsTime_" + categoryId).val();
            var qty = 1;

            var fixexpid = [];
            $("#divSelectBay_" + categoryId + " select[id^='baySelect_']").each(function () {
                var basketKey = parseInt($(this).data("basketkey"));
                var experienceId = parseInt($(this).val());

                if (experienceId > 0) fixexpid[basketKey] = experienceId;
            });

            $.ajax({
                url: "/booking/ajaxGrouped.php",
                method: "GET",
                async: true,
                data: { "setTime": 1, "date": date, "time": time, "qty": qty, "fixexpid": fixexpid },
                dataType: "json",
                success: function (data) {
                    if (data != "" && data != null && data.error != 1) {
                        if (data.redirect != "" && data.redirect != undefined) {
                            window.location.href = data.redirect;
                        } else {
                            checkNextItem();
                        }
                    } else {
                        $("#divBookAllProductsError_" + categoryId).html("There has been a problem with completing your booking. Please try again.").slideDown();
                    }
                },
                fail: function () {
                    $("#divBookAllProductsError_" + categoryId).html("There has been a problem with completing your booking. Please try again.").slideDown();
                }
            });
        }

        function checkNextItem() {
            $.ajax({
                url: "/booking/ajaxGrouped.php",
                method: "GET",
                async: true,
                data: { "checkNextItem": 1 },
                dataType: "json",
                success: function (data) {
                    getCurrentActivities();
                }
            });
        }

        function getCurrentActivities() {
            $.ajax({
                url: "/booking/ajaxGrouped.php",
                method: "GET",
                async: true,
                data: { "getCurrentActivities": 1 },
                dataType: "json",
                success: function (data) {
                    if (data != "" && data != null) {
                        if (data.allDone) {
                            window.location.href = "/booking/activityGrouped.php?addAllToBasket=1";
                        }
                    }
                }
            });
        }
    </script>
</head>

<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MZPPSJXD" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <a href="#content" class="sr-only">Skip to content</a>
    <!-- wrapper -->
    <div id="wrapper" class="stickyFooter">
        <header id="header">
            <div class="header__main">
                <div class="container">
                    <nav class="navbar navbar-expand-xl align-items-center justify-content-between">

                        <div class="mr-sm-auto order-2 py-3" id="hLogo">
                            <a class="" href="/">
                                <img src="Primary-Green-and-White-Logo.png " alt="Mr Mulligans Crazy Golf" id="logo"
                                    height="100px" width="135px">
                            </a>
                        </div>

                        <div class="order-3 order-lg-4 d-flex align-items-center" id="hNavButtons">
                            <ul class="nav mt-0 mr-3">
                                <li class="nav-item mr-2">
                                    <a href="/my-account" class="icon-btn px-3"><i class="fas fa-user"></i></a>
                                </li>
                                <!-- QUICK SHOP CART -->
                                <li class="quick-cart">
                                    <a href="/shop/basket" class="goToBasket">
                                        <i class="fa fa-shopping-cart"></i>
                                        <span class="badge">0</span>
                                    </a>
                                </li>
                                <!-- /QUICK SHOP CART -->
                            </ul>
                        </div>
                        <div class="ml-sm-3  order-4 order-lg-5 justify-content-between align-items-center"
                            id="hButtons">
                            <a href="BOOKED.html" class="btn-block btn btn-outline-secondary">Book Now</a>
                        </div>
                    </nav>
                </div>
            </div>
        </header>


        <script>
            $(function () {
                $("#header").on({
                    mouseenter: function () {
                        $('#header').addClass('hover');
                    },
                    mouseleave: function () {
                        $('#header').removeClass('hover');
                    }
                });
            });
        </script>

        <hr width="100%" color="green" />
        <div class="container w-100 pt-4 margin-top-xl">
            <h1 class="text-center mb-3">Driving Range</h1>

            <ul class="nav nav-pills nav-fill mb-2" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                    <a href="#pills-1569" class="nav-link active" id="pills-tab-1569" data-categoryid="1569"
                        data-toggle="pill" role="tab" aria-controls="pills-1569" aria-selected="true">Driving Range
                        Session 55 Mins [Unlimited Balls]</a>
                </li>
            </ul>
            <div class="tab-content" id="divBookAllProducts">
                <input type="hidden" id="locationId" value="7">
                <input type="hidden" id="bayExperiences_1569" value="{" 76":"Bay 8","77":"Bay 9","78":"Bay 10","79":"Bay
                    11","80":"Bay 12","85":"Bay 27","86":"Bay 13","88":"Bay 29","89":"Bay 30","90":"Bay 31","91":"Bay
                    32","92":"Bay 33","93":"Bay 34","94":"Bay 35","95":"Bay 36"}">
                <div class="tab-pane fade show active" id="pills-1569" role="tabpanel" aria-labelledby="pills-tab-1569">
                    <div class="text-center p-3 mb-2" style="background:#95C11E; color: black;"><strong>Please select
                            the date and time you would like to book.</strong>
                    </div>
                    <div class="alert alert-danger text-center" role="alert" id="divBookAllProductsError_1569"
                        style="display:none;"></div>
                    <div id="divBookAllProductsCategory_1569">
                        <div class="row mb-2">
                            <div class="col-12 col-sm-4 col-md-6 col-lg-6 mx-auto">
                                <div class="d-flex align-items-center">
                                    <span class="iconWrapper mr-3"><img src="golf-player.png" aria-hidden="true"></span>
                                    <select
                                        class="form-control required live-validate getProductDates getProductTimes baySelect"
                                        id="productQty_1569_1325" data-categoryid="1569" data-productid="1325"
                                        data-isbayproduct="1" placeholder="No. of Bays" required>
                                        <option value="" selected>No. of Bays</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>

                                    </select>
                                    <input type="hidden" class="playerSelect" id="productQty_1569_1332"
                                        data-categoryid="1569" data-productid="1332">
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-12 col-sm-4 col-md-6 col-lg-6 mx-auto">
                                <div class="d-flex align-items-center">
                                    <span class="iconWrapper dateI"><i class="text-success fa-solid fa-calendar"
                                            aria-hidden="true"></i></span>
                                    <div class="dropdown flex-grow-1">
                                        <div class="input-group" id="categoryDateSelector_1569">
                                            <input type="hidden" id="bookAllProductsDate_1569" min="2023-12-27">
                                            <script>
                                                $(function() {
                                                  $("#bookAllProductsDatepicker_1569").datepicker();
                                                });
                                              </script>
                                            <input type="text" class="form-control categoryDatepicker getProductTimes"
         id="bookAllProductsDatepicker_1569" data-categoryid="1569"
         placeholder="Select a date" readonly="readonly" autocomplete="off">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-12 col-sm-4 col-md-6 col-lg-6 mx-auto">
                                <div class="d-flex align-items-center">
                                    <span class="iconWrapper mr-3"><i class="text-success fa-regular fa-clock"
                                            aria-hidden="true"></i></span>
                                    <select class="form-control required live-validate selectProductTime"
                                        id="bookAllProductsTime_1569" data-categoryid="1569" placeholder="Select a Time"
                                        required>
                                        <option selected>Select a time</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div style="display:none;" id="divSelectBay_1569"></div>
                        <div class="mt-3 text-center">
                            <div class="position-relative">
                                <div class="btn btn-primary disabled mb-4" id="btnConfirmBooking"
                                    onclick="confirmBooking(1569); return false;">Confirm</div>
                                <div class="overlay"></div>
                            </div>
                        </div>
                    </div>

                    <style>
                        #divBookAllProductsCategory_1569 {
                            color: #96be1e;
                        }

                        .container h1 {
                            color: #ececec;
                            font-size: 35px;
                            font-weight: 650;
                        }

                        .bayWrapper {
                            display: flex;
                            padding: 0px 0px;
                            gap: 0px;
                        }

                        .baysLeftTop,
                        .baysLeftBottom {
                            transform: rotate(25deg);

                        }

                        .baysRightTop,
                        .baysRightBottom {
                            transform: rotate(-15deg);
                        }

                        .bayItem {
                            border: 4px solid rgba(255, 255, 255, 0);
                            border-radius: 3px;
                            background: #96be1e;
                            border-color: #96be1e;
                            margin: 25px;
                            flex-grow: 1;
                            text-align: center;
                            font-size: 40%;
                        }

                        @media (min-width: 576px) {
                            .bayItem {
                                width: 25px;
                                font-size: 100%;
                            }

                            .baysLeftTop,
                            .baysLeftBottom {
                                transform: rotate(14deg);
                            }

                            .baysRightTop,
                            .baysRightBottom {
                                transform: rotate(-14deg);
                            }
                        }


                        @media (min-width: 768px) {

                            .baysLeftTop,
                            .baysLeftBottom {
                                transform: rotate(12deg);
                            }

                            .baysRightTop,
                            .baysRightBottom {
                                transform: rotate(-12deg);
                            }
                        }

                        @media (min-width: 992px) {

                            .baysLeftTop,
                            .baysLeftBottom {
                                transform: rotate(10deg);
                            }

                            .baysRightTop,
                            .baysRightBottom {
                                transform: rotate(-10deg);
                            }
                        }

                        @media (min-width: 1200px) {

                            .baysLeftTop,
                            .baysLeftBottom {
                                transform: rotate(8deg);
                            }

                            .baysRightTop,
                            .baysRightBottom {
                                transform: rotate(-8deg);
                            }
                        }

                        .bayItem.unavailable {
                            background: #706e6f;
                            border-color: #706e6f;
                        }

                        .bayItem.dummyBay {
                            background: transparent;
                            opacity: 0;
                        }

                        .bayItem.active {
                            background: #96be1e;
                        }

                        .bayKeyWrapper {
                            border: 1px solid rgba(255, 255, 255, 0.5);
                        }

                        .keyColour {
                            height: 25px;
                            width: 25px;
                            background: #706e6f;
                        }

                        .keyColour.unavailable {
                            background: #706e6f;
                        }

                        .keyColour.powerbay {
                            border: 3px solid #47A8BD;
                            background: none;
                        }

                        .keyColour.available {
                            background: #96be1e;
                        }

                        .bayItem.powerbay {
                            border-color: #47A8BD;
                        }
                    </style>

                    <h1 class="text-center">Our bookable bays are highlighted in <span class="text-green">green</span>
                    </h1>
                    <h5 class="text-center">Please note that bay 8 is left-handed</h5>
                    <div class="d-flex mt-5 mb-5 bayMobile">
                        <div class="flex-grow-3 pr-9">
                            <div id="baysLeft">
                                <div class="baysLeftTop bayWrapper">
                                    <div class="bayItem unavailable ">3</div>
                                    <div class="bayItem unavailable ">4</div>
                                    <div class="bayItem unavailable ">5</div>
                                    <div class="bayItem unavailable ">6</div>
                                    <div class="bayItem unavailable ">7</div>
                                    <div class="bayItem  powerbay">8</div>
                                    <div class="bayItem  powerbay">9</div>
                                    <div class="bayItem  powerbay">10</div>
                                    <div class="bayItem  powerbay">11</div>
                                    <div class="bayItem  powerbay">12</div>
                                    <div class="bayItem  powerbay">13</div>
                                    <div class="bayItem unavailable powerbay">14</div>

                                </div>
                                <div class="baysLeftBottom bayWrapper">
                                    <div class="bayItem powerbay">27</div>
                                    <div class="bayItem powerbay">29</div>
                                    <div class="bayItem powerbay">31</div>
                                    <div class="bayItem ">33</div>
                                    <div class="bayItem ">35</div>

                                </div>
                            </div>
                        </div>
                        <div class="flex-grow-1 pl-1">
                            <div id="baysLeft">
                                <div class="baysRightTop bayWrapper">
                                    <div class="bayItem unavailable ">15</div>
                                    <div class="bayItem unavailable ">16</div>
                                    <div class="bayItem unavailable ">17</div>
                                    <div class="bayItem unavailable ">18</div>
                                    <div class="bayItem unavailable ">19</div>
                                    <div class="bayItem unavailable ">20</div>
                                    <div class="bayItem unavailable ">21</div>
                                    <div class="bayItem unavailable ">22</div>
                                    <div class="bayItem unavailable ">23</div>
                                    <div class="bayItem unavailable ">24</div>

                                    <div class="bayItem dummyBay"></div>
                                    <div class="bayItem dummyBay"></div>
                                </div>
                                <div class="baysRightBottom bayWrapper">
                                    <div class="bayItem  powerbay">36</div>
                                    <div class="bayItem unavailable ">37</div>
                                    <div class="bayItem unavailable ">38</div>
                                    <div class="bayItem unavailable ">39</div>
                                    <div class="bayItem unavailable ">40</div>
                                    <div class="bayItem unavailable ">41</div>
                                    <div class="bayItem unavailable ">42</div>
                                    <div class="bayItem unavailable ">43</div>
                                    <div class="bayItem unavailable ">44</div>
                                    <div class="bayItem unavailable ">45</div>

                                    <div class="bayItem dummyBay"></div>
                                    <div class="bayItem dummyBay"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cleafix"></div>
                    <div class="row justify-content-center pt-3 mb-3">
                        <div class="col-12 col-sm-8 col-md-6 col-lg-4">
                            <div class="bayKeyWrapper p-4">
                                <div class="bayKeyItem d-flex align-items-center justify-content-start mb-3">
                                    <div class="keyColour available mr-3"></div>
                                    <span>Bookable Bay</span>
                                </div>
                                <div class="bayKeyItem d-flex align-items-center justify-content-start mb-3">
                                    <div class="keyColour unavailable mr-3"></div>
                                    <span>Walk In Only</span>
                                </div>
                                <div class="bayKeyItem d-flex align-items-center justify-content-start">
                                    <div class="keyColour powerbay mr-3"></div>
                                    <span>Power-tee Bay</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div id="footer" class="mt-auto px-3 py-3">
            <div class="container">
                <div class="row">
                    <div class="col-7">
                        <h2 style="font-weight:800;" class="footerU">GET IN TOUCH</h2>
                        <address>A20 SIDCUP BYPASS</address>
                        <address>CHISLEHURST</address>
                        <address>KENT</address>
                        <address class="pb-3">BR7 6RP</address>
                        <address>TEL : 0208 309 0181 </address>
                    </div>
                    <div class="col-5">
                        <div class="d-flex justify-content-end">
                            <img src="Primary-Green-and-White-Logo.png" alt="Mr Mulligans Crazy Golf" id="logo"
                                height="100px" width="150px">
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    </div>
    </div>

    <style>
        .bayKeyItem span {
            color: #2f6486;
            font-size: 20px;
            font-family: sans-serif;
            font-weight: 800;
        }

        .container h2 {
            color: #fffbfb;
            font-weight: 800;
            font-family: montserrat;
        }

        .container address {
            color: #96be1e;
        }
    </style>
    <script>

        let popups = []

        function Popup(id, members, page) {
            this.id = id
            this.members = members
            this.page = page
        }
        //grab vars from template for checks
        const scriptName = '/shop/category.php'
        const isMember = ''
        const validPopup = (members, page) => {
            let allow = true
            switch (page) {
                case 'home':
                    scriptName == '/index.php' ? null : allow = false
                    break;
                case 'my-account':
                    scriptName == '/user/my_account.php' ? null : allow = false
                    break;
            }

            if (parseInt(members)) {
                parseInt(isMember) ? null : allow = false
            }
            return allow;
        }
    </script>
    <script>
        console.log(popups)
        $('document').ready(() => {
            //loop through the popups arr and try to fire them
            for (let i = 0; i < popups.length; i++) {
                let popupCookie = getCookie("popuploaded" + popups[i].id);
                if (popupCookie == '') {
                    //check page and member conditions
                    if (validPopup(popups[i].members, popups[i].page)) {
                        $('#sitePopup' + popups[i].id).modal('show')
                    }
                }
            }
        })
        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
    </script>
    <script>
        function genAlertMsg(title, msg, e = {}) {
            e.target ? e.preventDefault() : null;

            $('#genAlertModalTitle').html(title);
            $('#genAlertModalBody').html(msg);
            $('#genAlertModal').modal('show')
        }
    </script>
    <div style='z-index: 1000000' id='genAlertModal' class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id='genAlertModalTitle' class="modal-title"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p id='genAlertModalBody'></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <style>
        #basketUpdateAlert {
            position: fixed;
            top: 0;
            z-index: 99999;
            right: 0;
            top: 65px;
            min-width: 350px;
            background-color: #fff;
            display: none;
        }

        #basketUpdateAlert p {
            padding-bottom: 4px;
            margin-bottom: 0px;
        }
    </style>
    <section id='basketUpdateAlert' class='shadow p-3'>
        <div class='d-flex align-items-center justify-content-between mb-2'>
            <strong class='pl-3'>Added to Cart</strong>
            <div onclick="$('#basketUpdateAlert').fadeOut()" class="text-right font-weight-bold">&times;</div>
        </div>
        <div class='mx-auto d-flex'>
            <div style='max-width: 100px'>
                <img id='basketUpdateProductImage' src="" alt="">
            </div>
            <div class='pl-3'>
                <p id='basketUpdateProductName'></p>
                <p id='basketUpdateProductPrice'></p>
                <p>Qty: <span id='basketUpdateProductQty'></span></p>
            </div>
        </div>
        <div class='mt-2'>
            <a href="/shop/basket" class='btn btn-primary w-100'>Checkout</a>
        </div>
    </section>
    <script>
        console.log('footer includes tpl present')
    </script>
</body>

</html>